@startuml
' renovatio-provider-java Component Diagram

title Renovatio Java Provider - OpenRewrite Integration

package "renovatio-provider-java" {
  
  ' Provider Implementation
  package "Provider Core" {
    [JavaLanguageProvider] #Orange
    [JavaProviderConfiguration] #LightGreen
    [JavaCapabilities] #LightBlue
  }
  
  ' OpenRewrite Integration
  package "OpenRewrite Integration" {
    [OpenRewriteRecipeManager] #LightPink
    [OpenRewriteToolFactory] #LightPink
    [OpenRewriteExecutor] #LightPink
    [RecipeMetadataExtractor] #LightPink
  }
  
  ' Java Analysis Tools
  package "Analysis Tools" {
    [JavaAnalyzer] #LightCyan
    [JavaCodeSearcher] #LightCyan
    [JavaMetricsCalculator] #LightCyan
    [JavaDependencyAnalyzer] #LightCyan
  }
  
  ' Java-specific Tools
  package "Java Tools" {
    [JavaFormatterTool] #LightYellow
    [JavaMigratorTool] #LightYellow
    [JavaSecurityTool] #LightYellow
    [JavaCleanupTool] #LightYellow
  }
  
  ' Recipe Management
  package "Recipe System" {
    [JavaRecipeRegistry] #LightGray
    [CustomRecipeLoader] #LightGray
    [RecipeValidator] #LightGray
  }
}

' External dependencies
[renovatio-shared] #LightCyan
[OpenRewrite SDK] #Orange
[AST Parser] #LightBlue

' Provider implementation
JavaLanguageProvider --> JavaProviderConfiguration : Configured by
JavaLanguageProvider --> JavaCapabilities : Exposes
JavaLanguageProvider --> JavaRecipeRegistry : Uses

' OpenRewrite integration
JavaLanguageProvider --> OpenRewriteRecipeManager : Manages
OpenRewriteRecipeManager --> OpenRewriteToolFactory : Creates Tools
OpenRewriteToolFactory --> OpenRewriteExecutor : Uses
OpenRewriteExecutor --> [OpenRewrite SDK] : Executes Recipes
RecipeMetadataExtractor --> [OpenRewrite SDK] : Extracts Metadata

' Tool implementations
JavaFormatterTool --> OpenRewriteExecutor : Uses
JavaMigratorTool --> OpenRewriteExecutor : Uses
JavaSecurityTool --> OpenRewriteExecutor : Uses
JavaCleanupTool --> OpenRewriteExecutor : Uses

' Analysis tools
JavaAnalyzer --> [AST Parser] : Parses Code
JavaCodeSearcher --> JavaAnalyzer : Uses
JavaMetricsCalculator --> JavaAnalyzer : Uses
JavaDependencyAnalyzer --> JavaAnalyzer : Uses

' Recipe management
JavaRecipeRegistry --> CustomRecipeLoader : Loads
JavaRecipeRegistry --> RecipeValidator : Validates
CustomRecipeLoader --> [OpenRewrite SDK] : Loads Recipes

' Shared interfaces
JavaLanguageProvider --> [renovatio-shared] : Implements LanguageProvider
JavaFormatterTool --> [renovatio-shared] : Implements Tool
JavaMigratorTool --> [renovatio-shared] : Implements Tool
JavaSecurityTool --> [renovatio-shared] : Implements Tool
JavaCleanupTool --> [renovatio-shared] : Implements Tool

note top of JavaLanguageProvider
  **Java Provider**
  - OpenRewrite integration
  - All OpenRewrite recipes exposed
  - Custom recipe support
  - Java 8-21 migration
end note

note bottom of OpenRewriteExecutor
  **OpenRewrite Execution**
  - Recipe execution engine
  - AST transformations
  - Code formatting
  - Security fixes
end note

note right of [OpenRewrite SDK]
  **OpenRewrite SDK**
  - Official OpenRewrite library
  - 200+ built-in recipes
  - Java AST manipulation
  - Enterprise-grade refactoring
end note

@enduml

