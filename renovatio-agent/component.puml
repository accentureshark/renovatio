@startuml
' renovatio-agent Component Diagram

title Renovatio Agent - Orchestration & Automation

package "renovatio-agent" {
  
  ' Agent Core
  package "Agent Core" {
    [AgentMain] #Orange
    [Orchestrator] #Orange
    [TaskScheduler] #Orange
    [WorkflowEngine] #Orange
  }
  
  ' Task Management
  package "Task Management" {
    [TaskQueue] #LightCyan
    [TaskExecutor] #LightCyan
    [TaskMonitor] #LightCyan
    [TaskResultCollector] #LightCyan
  }
  
  ' Batch Processing
  package "Batch Processing" {
    [BatchProcessor] #LightBlue
    [ParallelExecutor] #LightBlue
    [ProgressTracker] #LightBlue
    [ResultAggregator] #LightBlue
  }
  
  ' Integration
  package "External Integration" {
    [GitIntegration] #LightGreen
    [FileSystemMonitor] #LightGreen
    [NotificationService] #LightGreen
    [ReportGenerator] #LightGreen
  }
  
  ' Configuration
  package "Agent Configuration" {
    [AgentConfiguration] #LightYellow
    [SchedulerConfiguration] #LightYellow
    [ExecutorConfiguration] #LightYellow
  }
}

' External dependencies
[renovatio-core] #Orange
[renovatio-provider-java] #LightPink
[renovatio-provider-cobol] #LightPink
[renovatio-provider-jcl] #LightPink
[Quartz Scheduler] #LightGray
[JGit] #LightGray

' Agent core
AgentMain --> Orchestrator : Starts
AgentMain --> AgentConfiguration : Configured by
Orchestrator --> TaskScheduler : Uses
Orchestrator --> WorkflowEngine : Uses
TaskScheduler --> [Quartz Scheduler] : Scheduling

' Task management
Orchestrator --> TaskQueue : Manages
TaskQueue --> TaskExecutor : Executes
TaskExecutor --> TaskMonitor : Monitored by
TaskExecutor --> TaskResultCollector : Results to
TaskMonitor --> ProgressTracker : Updates

' Batch processing
TaskExecutor --> BatchProcessor : Large Jobs
BatchProcessor --> ParallelExecutor : Parallel Tasks
ParallelExecutor --> ProgressTracker : Progress
ParallelExecutor --> ResultAggregator : Results

' Core integration
TaskExecutor --> [renovatio-core] : Uses Engine
BatchProcessor --> [renovatio-core] : Uses Engine

' Provider integration
TaskExecutor --> [renovatio-provider-java] : Direct Access
TaskExecutor --> [renovatio-provider-cobol] : Direct Access
TaskExecutor --> [renovatio-provider-jcl] : Direct Access

' External integration
WorkflowEngine --> GitIntegration : Git Operations
GitIntegration --> [JGit] : Git Library
Orchestrator --> FileSystemMonitor : Monitors
TaskResultCollector --> NotificationService : Notifications
ResultAggregator --> ReportGenerator : Reports

' Configuration
TaskScheduler --> SchedulerConfiguration : Configured by
TaskExecutor --> ExecutorConfiguration : Configured by

note top of Orchestrator
  **Agent Orchestration**
  - Workflow management
  - Task scheduling
  - Progress monitoring
  - Result aggregation
end note

note bottom of BatchProcessor
  **Batch Processing**
  - Large project migration
  - Parallel execution
  - Progress tracking
  - Resilient processing
end note

note right of GitIntegration
  **External Integration**
  - Git operations
  - File system monitoring
  - Notifications
  - Report generation
end note

@enduml

